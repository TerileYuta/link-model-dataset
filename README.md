# link-modelデータセット作成ツール

## 概要

これはlink-modelのrelationの学習用データセットを作成するためのものです。link-modelは数学の単語間の関係性をモデル化するためのモデルでアーキテクチャはR-GATというものを使用しています。

## 環境構築

本ツールを使用するにはPCにpythonがダウンロードされている必要があります。

```cmd
git clone https://github.com/TerileYuta/link-model-dataset.git

python -m venv venv

source venv/bin/activate

pip install -r requirements.txt
```

AI予測を使うために`.env`ファイルを作成します。
`rootディレクトリ`に`.env`ファイルを作成し、下記の内容を入力します。
```
OPENAI_API_KEY = <OPENAIのAPIキー>
```


## 使用方法

実行ファイルは`main.py`になります。

```
>> pyhon main.py

データをロード中です。
A:(295) 性質
↓
B:(2004) 特性
--------------------------------------------------
0 : 共起 (同じ文/段落に出現)
1 : 参照 (AがBを参照)
2 : 説明 (AがBを説明する)
3 : 同値 (まったく同じ意味)
4 : 抱含 (AはBに含まれる)
5 : 従属 (AはBに従属する)
6 : 類似 (ほぼ同じ式（数字がかわっただけ）)
7 : 対義 (意味が反対)
--------------------------------------------------
AI : 0 (共起として、性質と特性は同じ文や段落に出現することがあるため)  
4 (性質は特性に含まれる概念であるため)
6 (性質と特性は類似の意味を持ち、状況によっては使い分けられることがあるため)
>
```

### タスク
単語AとBの関係性を0~7の中から選びその結果を`>`の後ろに入力します。
入力ルールは下記のとおりです。
- 当てはまる関係が複数個ある場合 : 半角1マスを空けて入力します。
- 当てはまる関係がない場 : 何も入力せずに「Enter」を押します。
- 関係性を反転させたい場合：`-`を入力します。 

例えば、「1」と「2」がAとBの関係としてふさわしい場合入力は下記のようになります。
```
>1 2
```

また、`AI : `はChatGPTによる関係性の予測です。対象の数字と理由が合わせて出力されます。当てはまる関係性がない場合「なし」と表示されます。

作業終了時は`ctrl + c`で強制終了させてください

## 出力について
データセットを作成を始めると`rootディレクトリ`に`./dataset/triplets.npy`が作成されます。このファイルはコード実行中常に保存され、更新され続けます。

## データの保存先について
作成したデータセットは[このGoogleドライブ](https://drive.google.com/drive/folders/16ysUeZmAWTx3JkWniVj-OiSh58okULbD?usp=drive_link)に追加していってください。アクセス権がない人はアクセス権をリクエストしてください。